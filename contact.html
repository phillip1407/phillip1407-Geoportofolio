<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kontakt - Phillip Geo</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="plogo.png" type="image/png">
  <style>
    main {
      display: flex;
      justify-content: center;
      padding: 2rem;
    }

    .contact-box {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      padding: 2rem;
      max-width: 1000px;
      width: 100%;
    }

    .contact-section {
      margin-bottom: 2rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid #eee;
    }

    .contact-section:last-of-type {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .contact-section h2 {
      margin-bottom: 1rem;
      font-size: 1.2rem;
      color: #222;
    }

    /* Kontakt info */
    .contact-info p {
      margin: 0.5rem 0;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.95rem;
    }

    .contact-info ul {
      list-style: disc;
      margin-left: 1.5rem;
      font-size: 0.95rem;
    }

    /* Formular */
    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    form label {
      font-weight: 600;
      font-size: 0.9rem;
      margin-bottom: 0.3rem;
    }

    form input,
    form textarea {
      width: 100%;
      padding: 0.6rem;
      border: 1px solid var(--border, #ddd);
      border-radius: 6px;
      font-size: 1rem;
    }

    form textarea {
      min-height: 120px;
      resize: vertical;
    }

    form button {
      background-color: #0a0f1c;
      color: #fff;
      border: none;
      padding: 0.8rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: background 0.2s ease;
    }

    form button:hover {
      background-color: #1a2236;
    }

    #form-status {
      font-size: 0.9rem;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
<header>
  <div class="logo">
    <a href="index.html" id="site-title" style="text-decoration:none;color:inherit;">Phillip Geo / BareetDesign</a>
  </div>
  <nav>
    <a href="index.html">Projekter</a>
    <a href="about.html">Om</a>
    <a href="contact.html" class="active">Kontakt</a>
    <a href="admin.html" class="admin-link">‚öô</a>
  </nav>
</header>

<main>
  <div class="contact-box">
    <!-- Kontaktinformation -->
    <section class="contact-section contact-info">
      <h2>Kontaktinformation</h2>
      <p>üìß phillipgeo@gmail.com / phillip@bareetdesign.com (Kommer snart)</p>
      <p>üìû +45 93 95 63 39</p>
      <p>üåç K√∏benhavn, Danmark</p>
    </section>

    <!-- Services -->
    <section class="contact-section">
      <h2>Services</h2>
      <ul>
        <li>Brand Identity Design</li>
        <li>Grafisk Design</li>
      </ul>
    </section>

    <!-- Formular -->
    <section class="contact-section">
      <h2>Skriv en besked</h2>
      <form id="contact-form">
        <div>
          <label for="name">Navn</label>
          <input type="text" id="name" name="name" required>
        </div>
        <div>
          <label for="email">E-mail</label>
          <input type="email" id="email" name="email" required>
        </div>
        <div>
          <label for="subject">Emne</label>
          <input type="text" id="subject" name="subject" required>
        </div>
        <div>
          <label for="message">Besked</label>
          <textarea id="message" name="message" required></textarea>
        </div>
        <button type="submit">Send besked</button>
      </form>
      <p id="form-status"></p>
    </section>
  </div>
</main>

<footer>
  <div class="footer-social">
    <a id="footer-mail" href="mailto:phillipgeo7@gmail.com">
      <img src="icons/mail.png" class="social-icon" alt="Mail">
      <span>phillipgeo7@gmail.com</span>
    </a>
    <a id="footer-phone" href="tel:+4593956339">
      <img src="icons/phone.png" class="social-icon" alt="Phone">
      <span>+45 93 95 63 39</span>
    </a>
    <a id="footer-linkedin" href="#" target="_blank">
      <img src="icons/linkedin.png" class="social-icon" alt="LinkedIn">
      <span>LinkedIn</span>
    </a>
    <a id="footer-instagram" href="#" target="_blank">
      <img src="icons/instagram.png" class="social-icon" alt="Instagram">
      <span>Instagram</span>
    </a>
  </div>
</footer>

<div id="copyright">
  <p>&copy; <span id="copyright-text"></span></p>
</div>

<script type="module">
import { createClient } from 'https://esm.sh/@supabase/supabase-js'

const SUPABASE_URL = "https://tuogdyemsfdmhxrvmrlq.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1b2dkeWVtc2ZkbWh4cnZtcmxxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMjQ5OTAsImV4cCI6MjA3MzYwMDk5MH0.yHeM8tkZuzA8PuooVIOrDtdgCTS3jfuXLzQ55-235NU";
const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

// ----- Footer -----
async function loadFooterData() {
  try {
    const { data: siteData, error } = await supabase
      .from('site_content')
      .select('*')
      .eq('id', 1)
      .single();
    if (error) throw error;

    document.getElementById('footer-mail').href = siteData?.contactMail ? `mailto:${siteData.contactMail}` : 'mailto:phillipgeo7@gmail.com';
    document.getElementById('footer-mail').querySelector('span').textContent = siteData?.contactMail || 'phillipgeo7@gmail.com';

    document.getElementById('footer-phone').href = siteData?.contactPhone ? `tel:${siteData.contactPhone}` : 'tel:+4593956339';
    document.getElementById('footer-phone').querySelector('span').textContent = siteData?.contactPhone || '+45 93 95 63 39';

    document.getElementById('footer-linkedin').href = siteData?.contactLinkedin || '#';
    document.getElementById('footer-instagram').href = siteData?.contactInstagram || '#';

    document.getElementById('copyright-text').textContent = siteData?.copyright || "Phillip Geo / BareetDesign";

  } catch(e) {
    console.error('Error loading footer content:', e);
  }
}
loadFooterData();

// ----- Kontaktformular -----
const contactForm = document.getElementById("contact-form");
const formStatus = document.getElementById("form-status");

if (contactForm) {
  contactForm.addEventListener("submit", async (e) => {
    e.preventDefault();

    const name = document.getElementById("name").value;
    const email = document.getElementById("email").value;
    const subject = document.getElementById("subject").value;
    const message = document.getElementById("message").value;

    const { error } = await supabase.from("messages").insert([
      { name, email, subject, message }
    ]);

    if (error) {
      formStatus.textContent = "‚ùå Der skete en fejl. Pr√∏v igen.";
      formStatus.style.color = "red";
    } else {
      formStatus.textContent = "üòÅ Tak for din besked! Jeg vender tilbage snarest.";
      formStatus.style.color = "green";
      contactForm.reset();
    }
  });
}
</script>
</body>
</html>
