<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contact - Phillip Geo</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="logo"><a href="index.html" style="text-decoration:none;color:inherit;" id="site-title">Phillip Geo / BareetDesign</a></div>
  <nav>
    <a href="index.html">Projects</a>
    <a href="about.html">About</a>
    <a href="contact.html" class="active">Contact</a>
    <a href="admin.html" class="admin-link">Admin</a>
  </nav>
</header>

<main>
  <section class="content contact-grid">
    <div>
      <p>I am currently open for collaborations and freelance projects. Feel free to reach out.</p>
    </div>
    <div>
      <p><strong>Mail:</strong> <span id="c-mail"></span></p>
      <p><strong>Phone:</strong> <span id="c-phone"></span></p>
      <p><strong>Address:</strong> <span id="c-address"></span></p>
      <p><strong>Social:</strong> <a id="c-linkedin" href="#">LinkedIn</a>, <a id="c-instagram" href="#">Instagram</a></p>
    </div>
  </section>
</main>

<footer id="site-footer">
  <div id="footer-left"></div>
  <div id="footer-middle">
    <a id="footer-mail" href="#">Send a message</a><br>
    <a id="footer-phone" href="#">Give me a call</a>
  </div>
  <div id="footer-right">
    <a id="footer-linkedin" href="#">LinkedIn</a><br>
    <a id="footer-instagram" href="#">Instagram</a>
  </div>
</footer>

<script type="module">
import { createClient } from 'https://esm.sh/@supabase/supabase-js'

const SUPABASE_URL = "https://tuogdyemsfdmhxrvmrlq.supabase.co"
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1b2dkeWVtc2ZkbWh4cnZtcmxxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMjQ5OTAsImV4cCI6MjA3MzYwMDk5MH0.yHeM8tkZuzA8PuooVIOrDtdgCTS3jfuXLzQ55-235NU"
const supabase = createClient(SUPABASE_URL, SUPABASE_KEY)

async function loadSiteData(){
  const { data: siteData } = await supabase.from('site_content').select('*').single()
  if(siteData){
    document.getElementById('site-title').textContent = siteData.siteTitle || 'Phillip Geo / BareetDesign'
    document.getElementById('c-mail').innerText = siteData.contactMail || ''
    document.getElementById('c-phone').innerText = siteData.contactPhone || ''
    document.getElementById('c-address').innerText = siteData.contactAddress || ''
    document.getElementById('c-linkedin').href = siteData.contactLinkedin || '#'
    document.getElementById('c-instagram').href = siteData.contactInstagram || '#'
    document.getElementById('footer-left').innerText = siteData.footerLeft || ''
    document.getElementById('footer-mail').href = 'mailto:' + (siteData.contactMail || '#')
    document.getElementById('footer-phone').href = 'tel:' + (siteData.contactPhone || '#')
  }
}

loadSiteData()
</script>
</body>
</html>
