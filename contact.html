<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kontakt - Phillip Geo / BareetDesign</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="plogo.png" type="image/png">
</head>
<body>
<header>
  <div class="logo">
    <a href="index.html" id="site-title">Phillip Geo / BareetDesign</a>
  </div>
  <nav>
    <a href="about.html">Om</a>
    <a href="contact.html" class="active">Kontakt</a>
    <a href="admin.html" class="admin-link">⚙</a>
  </nav>
</header>

<main>
  <section id="contact-box" class="intro-box">
    <h2>Kontakt mig</h2>
    <form id="contact-form">
      <label for="name">Navn</label>
      <input type="text" id="name" name="name" required>

      <hr>

      <label for="email">E-mail</label>
      <input type="email" id="email" name="email" required>

      <hr>

      <label for="service">Service</label>
      <select id="service" name="service" required>
        <option value="">Vælg en service</option>
        <option value="design">Design</option>
        <option value="web">Webudvikling</option>
        <option value="anden">Andet</option>
      </select>

      <hr>

      <label for="message">Besked</label>
      <textarea id="message" name="message" rows="4" required></textarea>

      <button type="submit">Send besked</button>
    </form>
  </section>
</main>

<footer>
  <div class="footer-social">
    <a id="footer-mail" href="mailto:phillipgeo7@gmail.com">
      <img src="icons/mail.png" class="social-icon" alt="Mail">
      <span>phillipgeo7@gmail.com</span>
    </a>
    <a id="footer-phone" href="tel:+4593956339">
      <img src="icons/phone.png" class="social-icon" alt="Phone">
      <span>+45 93 95 63 39</span>
    </a>
    <a id="footer-linkedin" href="#" target="_blank">
      <img src="icons/linkedin.png" class="social-icon" alt="LinkedIn">
      <span>LinkedIn</span>
    </a>
    <a id="footer-instagram" href="#" target="_blank">
      <img src="icons/instagram.png" class="social-icon" alt="Instagram">
      <span>Instagram</span>
    </a>
  </div>
</footer>

<div id="copyright">
  <p>&copy; <span id="copyright-text"></span></p>
</div>

<script type="module">
import { createClient } from 'https://esm.sh/@supabase/supabase-js';

const SUPABASE_URL = "https://tuogdyemsfdmhxrvmrlq.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...";
const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

// Load site data ligesom på forsiden
async function loadSiteData() {
  try {
    const { data: siteData, error } = await supabase.from('site_content').select('*').eq('id', 1).single();
    if (error) throw error;
    if (siteData) {
      document.getElementById('site-title').textContent = siteData.siteTitle;
      document.getElementById('footer-mail').href = siteData.contactMail ? `mailto:${siteData.contactMail}` : '#';
      document.querySelector('#footer-mail span').textContent = siteData.contactMail || 'Mail';
      document.querySelector('#footer-mail img').src = siteData.footerMailIcon || 'icons/mail.png';
      document.getElementById('footer-phone').href = siteData.contactPhone ? `tel:${siteData.contactPhone}` : '#';
      document.querySelector('#footer-phone span').textContent = siteData.contactPhone || 'Telefon';
      document.querySelector('#footer-phone img').src = siteData.footerPhoneIcon || 'icons/phone.png';
      document.getElementById('footer-linkedin').href = siteData.contactLinkedin || '#';
      document.querySelector('#footer-linkedin img').src = siteData.footerLinkedinIcon || 'icons/linkedin.png';
      document.getElementById('footer-instagram').href = siteData.contactInstagram || '#';
      document.querySelector('#footer-instagram img').src = siteData.footerInstagramIcon || 'icons/instagram.png';
      document.getElementById('copyright-text').textContent = siteData.copyright || "Phillip Geo / BareetDesign";
    }
  } catch (e) {
    console.error('Error loading site content:', e);
  }
}

loadSiteData();

// Simpel besked-submit
document.getElementById('contact-form').addEventListener('submit', (e) => {
  e.preventDefault();
  alert("Tak for din besked! Jeg vender tilbage hurtigst muligt.");
  e.target.reset();
});
</script>
</body>
</html>
