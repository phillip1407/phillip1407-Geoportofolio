<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <title>Om - Phillip Geo</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="geoportofolio.png" type="image/png">
  <style>
    main {
      display: flex;
      justify-content: center;
      padding: 2rem;
    }

    /* Container med billedet + kategorier til venstre, tekst til hÃ¸jre */
    .about-container {
      display: flex;
      width: 80%;
      background-color: #fafafa;
      padding: 1.5rem;
      border-radius: 12px;
      border: 1px solid var(--border);
      box-shadow: 0 8px 16px rgba(0,0,0,0.08);
      gap: 2rem;
      flex-wrap: wrap;
    }

    /* Venstre side: billede + kategorier */
    .about-left {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      flex: 0 0 300px;
      align-items: center;
    }

    .about-left .about-image img {
      width: 300px;
      height: 300px;
      object-fit: cover;
      border-radius: 8px;
      border: 2px solid var(--border);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }

    .about-left .about-image img:hover {
      transform: scale(1.03);
    }

    .section-block {
      width: 100%;
      margin-top: 1rem;
    }

    .section-block h3 {
      margin: 0 0 0.3rem 0;
    }

    /* Vertikal linje mellem venstre og hÃ¸jre */
    .divider {
      width: 1px;
      background-color: #ddd;
      margin: 0 1.5rem;
    }

    /* HÃ¸jre side: tekst */
    .about-right {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .about-right h2 {
      margin: 0;
      font-size: 2rem;
    }

    /* Behold linjeskift og afsnit i teksten */
    .about-right p,
    .section-block p {
      white-space: pre-line;
    }

    /* Footer ikoner */
    footer {
      border-top:1px solid var(--border);
      padding:22px 28px;
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:14px;
      color:var(--muted);
      flex-direction: column;
      gap: 1rem;
    }

    footer .footer-social {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    footer .footer-social a {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      text-decoration: none;
      color: inherit;
    }

    footer .footer-social img {
      width: 24px;
      height: 24px;
    }

    /* --- Mobilvenlig --- */
    @media (max-width: 768px) {
      main {
        padding: 1rem;
      }

      .about-container {
        flex-direction: column;
        align-items: center;
        width: 100%;
        padding: 1rem;
        gap: 1rem;
      }

      .about-left, .about-right {
        width: 100%;
        max-width: 100%;
        align-items: center;
        text-align: center;
      }

      .about-left .about-image img {
        width: 100%;
        max-width: 250px;
        height: auto;
      }

      .divider {
        display: none;
      }

      .section-block {
        width: 100%;
      }

      .about-right h2 {
        font-size: 1.6rem;
      }

      .about-right p,
      .section-block p {
        font-size: 0.95rem;
      }

      footer {
        padding: 16px;
        gap: 0.5rem;
      }

      footer .footer-social {
        flex-direction: column;
        gap: 0.5rem;
      }

      footer .footer-social a {
        justify-content: center;
      }

      footer .footer-social img {
        width: 22px;
        height: 22px;
      }
    }
  </style>
</head>
<body>
<header>
  <div class="logo">
    <a href="index.html" id="site-title" style="text-decoration:none;color:inherit;">Phillip Geo / BareetDesign</a>
  </div>
  <nav>
    <a href="index.html">Projekter</a>
    <a href="about.html" class="active">Om</a>
    <a href="contact.html">Kontakt</a>
    <a href="admin.html" class="admin-link">ðŸ”’</a>
  </nav>
</header>

<main>
  <section class="about-container">
    <!-- Venstre: billede + kategorier -->
    <div class="about-left">
      <div class="about-image">
        <img id="about-image" src="images/placeholder.png" alt="Om mig">
      </div>
      <div class="section-block">
        <h3>Udvalgte kunder</h3>
        <p id="clients">Indhold kommer her...</p>
      </div>
      <div class="section-block">
        <h3>Erfaring</h3>
        <p id="experience">Indhold kommer her...</p>
      </div>
      <div class="section-block">
        <h3>Uddannelse</h3>
        <p id="education">Indhold kommer her...</p>
      </div>
    </div>

    <!-- Divider linje -->
    <div class="divider"></div>

    <!-- HÃ¸jre: tekst -->
    <div class="about-right">
      <h2>Phillip Geo</h2>
      <p id="about-text">Loading...</p>
    </div>
  </section>
</main>

<!-- Footer -->
<footer>
  <div class="footer-social">
    <a id="footer-mail" href="mailto:phillipgeo7@gmail.com">
      <img src="icons/mail.png" class="social-icon" alt="Mail">
      <span>phillipgeo7@gmail.com</span>
    </a>
    <a id="footer-phone" href="tel:+4593956339">
      <img src="icons/phone.png" class="social-icon" alt="Phone">
      <span>+45 93 95 63 39</span>
    </a>
    <a id="footer-linkedin" href="#" target="_blank">
      <img src="icons/linkedin.png" class="social-icon" alt="LinkedIn">
      <span>LinkedIn</span>
    </a>
    <a id="footer-instagram" href="#" target="_blank">
      <img src="icons/instagram.png" class="social-icon" alt="Instagram">
      <span>Instagram</span>
    </a>
  </div>
</footer>

<div id="copyright">
  <p>&copy; <span id="copyright-text"></span></p>
</div>

<script type="module">
import { createClient } from 'https://esm.sh/@supabase/supabase-js'

const SUPABASE_URL = "https://tuogdyemsfdmhxrvmrlq.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1b2dkeWVtc2ZkbWh4cnZtcmxxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMjQ5OTAsImV4cCI6MjA3MzYwMDk5MH0.yHeM8tkZuzA8PuooVIOrDtdgCTS3jfuXLzQ55-235NU";
const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

// Load footer data
async function loadFooterData() {
  try {
    const { data: siteData, error } = await supabase
      .from('site_content')
      .select('*')
      .eq('id', 1)
      .single();
    if (error) throw error;
    if (siteData) {
      document.getElementById('footer-mail').href = siteData.contactMail ? `mailto:${siteData.contactMail}` : '#';
      document.querySelector('#footer-mail span').textContent = siteData.contactMail || 'Mail';
      document.querySelector('#footer-mail img').src = siteData.footerMailIcon || 'icons/mail.png';

      document.getElementById('footer-phone').href = siteData.contactPhone ? `tel:${siteData.contactPhone}` : '#';
      document.querySelector('#footer-phone span').textContent = siteData.contactPhone || 'Telefon';
      document.querySelector('#footer-phone img').src = siteData.footerPhoneIcon || 'icons/phone.png';

      document.getElementById('footer-linkedin').href = siteData.contactLinkedin || '#';
      document.getElementById('footer-linkedin img').src = siteData.footerLinkedinIcon || 'icons/linkedin.png';

      document.getElementById('footer-instagram').href = siteData.contactInstagram || '#';
      document.querySelector('#footer-instagram img').src = siteData.footerInstagramIcon || 'icons/instagram.png';

      document.getElementById('copyright-text').textContent = siteData.copyright || "Phillip Geo / BareetDesign";
    }
  } catch(e) {
    console.error('Error loading footer content:', e);
  }
}

loadFooterData();

// Load "Om mig" content
async function loadAboutContent() {
  try {
    const { data, error } = await supabase.from('site_content').select('*').eq('id',1).single();
    if(error) throw error;
    if(!data) return;

    document.getElementById('site-title').textContent = data.siteTitle || "Phillip Geo / BareetDesign";
    document.getElementById('about-text').textContent = data.aboutText || "Om mig-indhold ikke fundet.";
    document.getElementById('about-image').src = data.aboutImage || 'images/placeholder.png';
    document.getElementById('clients').innerHTML = (data.clients || "Indhold ikke fundet.").replace(/\n/g,'<br>');
    document.getElementById('experience').innerHTML = (data.experience || "Indhold ikke fundet.").replace(/\n/g,'<br>');
    document.getElementById('education').innerHTML = (data.education || "Indhold ikke fundet.").replace(/\n/g,'<br>');
  } catch(err) {
    console.error('Fejl ved indlÃ¦sning af Om mig:', err);
  }
}

loadAboutContent();
</script>
</body>
</html>
