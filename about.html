<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Om - Phillip Geo</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="geoportofolio.png" type="image/png">
</head>
<body>
<header>
  <div class="logo">
    <a href="index.html" id="site-title" style="text-decoration:none;color:inherit;">
      Phillip Geo / BareetDesign
    </a>
  </div>
  <nav>
    <a href="index.html">Projekter</a>
    <a href="about.html" class="active">Om</a>
    <a href="contact.html">Kontakt</a>
    <a href="admin.html" class="admin-link">ðŸ”’</a>
  </nav>
</header>

<main>
  <!-- Om mig boks -->
  <section class="about-box">
    <div class="about-content">
      <div class="about-image">
        <img id="about-image" src="images/placeholder.png" alt="Om mig">
      </div>
      <div class="about-text" id="about-text">
        <p>Loading...</p>
      </div>
    </div>
  </section>
</main>

<footer>
  <div class="footer-social">
    <a id="footer-mail" href="mailto:phillipgeo7@gmail.com">
      <img src="icons/mail.png" class="social-icon" alt="Mail">
      <span>phillipgeo7@gmail.com</span>
    </a>

    <a id="footer-phone" href="tel:+4593956339">
      <img src="icons/phone.png" class="social-icon" alt="Phone">
      <span>+45 93 95 63 39</span>
    </a>

    <a id="footer-linkedin" href="#" target="_blank">
      <img src="icons/linkedin.png" class="social-icon" alt="LinkedIn">
      <span>LinkedIn</span>
    </a>

    <a id="footer-instagram" href="#" target="_blank">
      <img src="icons/instagram.png" class="social-icon" alt="Instagram">
      <span>Instagram</span>
    </a>
  </div>
</footer>

<div id="copyright">
  <p>&copy; <span id="copyright-text"></span></p>
</div>

<script type="module">
import { createClient } from 'https://esm.sh/@supabase/supabase-js'

const SUPABASE_URL = "https://tuogdyemsfdmhxrvmrlq.supabase.co"
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1b2dkeWVtc2ZkbWh4cnZtcmxxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMjQ5OTAsImV4cCI6MjA3MzYwMDk5MH0.yHeM8tkZuzA8PuooVIOrDtdgCTS3jfuXLzQ55-235NU"
const supabase = createClient(SUPABASE_URL, SUPABASE_KEY)

async function loadAboutBox() {
  try {
    // Hent aboutText og billed-URL fra Supabase
    const { data, error } = await supabase
      .from('site_content')
      .select('aboutText, aboutImage, siteTitle, contactLinkedin, contactInstagram, footerLinkedinIcon, footerInstagramIcon, copyright')
      .eq('id', 1)
      .single()

    if (error) throw error

    if (data) {
      // Opdater side titel
      document.getElementById('site-title').textContent = data.siteTitle || "Phillip Geo / BareetDesign"

      // Om mig tekst
      document.getElementById('about-text').innerHTML = `<p>${data.aboutText || "Om mig-indhold ikke fundet."}</p>`

      // Om mig billede
      document.getElementById('about-image').src = data.aboutImage || 'images/placeholder.png'

      // LinkedIn & Instagram links
      document.getElementById('footer-linkedin').href = data.contactLinkedin || '#'
      document.getElementById('footer-instagram').href = data.contactInstagram || '#'

      // Footer ikoner
      document.querySelector('#footer-linkedin img').src = data.footerLinkedinIcon || 'icons/linkedin.png'
      document.querySelector('#footer-instagram img').src = data.footerInstagramIcon || 'icons/instagram.png'

      // Copyright
      document.getElementById('copyright-text').textContent = data.copyright || "Phillip Geo / BareetDesign"
    }
  } catch (err) {
    console.error('Fejl ved indlÃ¦sning af Om mig:', err)
    document.getElementById('about-text').innerHTML = `<p>Fejl ved indlÃ¦sning.</p>`
  }
}

// KÃ¸r funktionen
loadAboutBox()
</script>
</body>
</html>
