<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>About - Phillip Geo</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="geoportofolio.png" type="image/png">
</head>
<body>
<header>
  <div class="logo"><a href="index.html" id="site-title" style="text-decoration:none;color:inherit;">Phillip Geo / BareetDesign</a></div>
  <nav>
    <a href="index.html">Projekter</a>
    <a href="about.html" class="active">Om</a>
    <a href="contact.html">Kontakt</a>
    <a href="admin.html" class="admin-link">ðŸ”’</a>
  </nav>
</header>

<main>
  <section class="grid">
    <div id="about-text" style="padding:24px; font-size:16px;">
      <p>Loading...</p>
    </div>
  </section>
</main>

<footer id="site-footer">
  <div id="footer-left"></div>
  <div id="footer-middle">
    <a id="footer-mail" href="#"><img src="icons/mail.png" class="social-icon" alt="Mail"></a>
    <a id="footer-phone" href="#"><img src="icons/phone.png" class="social-icon" alt="Phone"></a>
  </div>
  <div id="footer-right">
    <a id="footer-linkedin" href="#" target="_blank"><img src="icons/linkedin.png" class="social-icon" alt="LinkedIn"></a>
    <a id="footer-instagram" href="#" target="_blank"><img src="icons/instagram.png" class="social-icon" alt="Instagram"></a>
  </div>
</footer>

<script type="module">
import { createClient } from 'https://esm.sh/@supabase/supabase-js'

const SUPABASE_URL = "https://tuogdyemsfdmhxrvmrlq.supabase.co"
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1b2dkeWVtc2ZkbWh4cnZtcmxxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMjQ5OTAsImV4cCI6MjA3MzYwMDk5MH0.yHeM8tkZuzA8PuooVIOrDtdgCTS3jfuXLzQ55-235NU"
const supabase = createClient(SUPABASE_URL, SUPABASE_KEY)

async function loadSiteData(){
  try {
    const { data: siteData, error } = await supabase.from('site_content').select('*').eq('id',1).single()
    if(error) throw error
    if(siteData){
      document.getElementById('site-title').textContent = siteData.siteTitle
      document.getElementById('footer-left').innerText = siteData.footerLeft
      document.getElementById('footer-mail').href = 'mailto:' + siteData.contactMail
      document.getElementById('footer-phone').href = 'tel:' + siteData.contactPhone
      document.getElementById('footer-linkedin').href = siteData.contactLinkedin
      document.getElementById('footer-instagram').href = siteData.contactInstagram

      // Opdater footer ikoner hvis der er gemt URLâ€™er i Supabase
      if(siteData.footerMailIcon) document.getElementById('footer-mail').querySelector('img').src = siteData.footerMailIcon
      if(siteData.footerPhoneIcon) document.getElementById('footer-phone').querySelector('img').src = siteData.footerPhoneIcon
      if(siteData.footerLinkedinIcon) document.getElementById('footer-linkedin').querySelector('img').src = siteData.footerLinkedinIcon
      if(siteData.footerInstagramIcon) document.getElementById('footer-instagram').querySelector('img').src = siteData.footerInstagramIcon

      document.getElementById('about-text').innerHTML = `<p>${siteData.about}</p>`
    }
  } catch(e){
    console.error('Error loading site content:', e)
  }
}

loadSiteData()
</script>
</body>
</html>
